{
  "menus": [
    {
      "id": "1",
      "label": "Status & Diagnostics",
      "description": "Cek status server, tes config Xray, dan info TLS.",
      "actions": [
        { "id": "overview", "label": "Ringkasan Status", "mode": "direct", "style": "primary" },
        { "id": "xray_test", "label": "Test Config Xray", "mode": "direct", "style": "secondary" },
        { "id": "tls_info", "label": "TLS Info", "mode": "direct", "style": "secondary" }
      ]
    },
    {
      "id": "2",
      "label": "User Management",
      "description": "Add/Delete user, extend expiry, list, search, dan XRAY ACCOUNT INFO.",
      "actions": [
        {
          "id": "add_user",
          "label": "Add User",
          "mode": "modal",
          "style": "success",
          "modal": {
            "title": "Add User",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "contoh: alice" },
              { "id": "days", "label": "Masa Aktif (hari)", "style": "short", "required": true, "placeholder": "30" },
              { "id": "quota_gb", "label": "Quota (GB)", "style": "short", "required": true, "placeholder": "100" },
              { "id": "ip_limit", "label": "IP Limit (opsional)", "style": "short", "required": false, "placeholder": "0 = OFF" }
            ]
          }
        },
        {
          "id": "delete_user",
          "label": "Delete User",
          "mode": "modal",
          "style": "danger",
          "confirm": true,
          "modal": {
            "title": "Delete User",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "contoh: alice" }
            ]
          }
        },
        {
          "id": "extend_expiry",
          "label": "Extend/Set Expiry",
          "mode": "modal",
          "style": "primary",
          "modal": {
            "title": "Extend/Set Expiry",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "contoh: alice" },
              { "id": "mode", "label": "Mode", "style": "short", "required": true, "placeholder": "extend / set" },
              { "id": "value", "label": "Value", "style": "short", "required": true, "placeholder": "7 atau 2026-12-31" }
            ]
          }
        },
        { "id": "list_users", "label": "List Users", "mode": "direct", "style": "primary" },
        {
          "id": "search_user",
          "label": "Search User",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Search User",
            "fields": [
              { "id": "query", "label": "Username Query", "style": "short", "required": true, "placeholder": "contoh: alice" }
            ]
          }
        },
        {
          "id": "account_info",
          "label": "Account Info",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "User Account Info",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "contoh: alice" }
            ]
          }
        }
      ]
    },
    {
      "id": "3",
      "label": "Quota & Access Control",
      "description": "Ringkasan, detail, dan kontrol quota/manual block/IP limit/speed limit per user.",
      "actions": [
        { "id": "summary", "label": "Quota Summary", "mode": "direct", "style": "primary" },
        {
          "id": "detail",
          "label": "Quota Detail",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Quota Detail",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "contoh: alice" }
            ]
          }
        },
        {
          "id": "set_quota_limit",
          "label": "Set Quota Limit",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Set Quota Limit",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "quota_gb", "label": "Quota GB", "style": "short", "required": true, "placeholder": "100" }
            ]
          }
        },
        {
          "id": "reset_quota_used",
          "label": "Reset Quota Used",
          "mode": "modal",
          "style": "danger",
          "confirm": true,
          "modal": {
            "title": "Reset Quota Used",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" }
            ]
          }
        },
        {
          "id": "manual_block",
          "label": "Manual Block ON/OFF",
          "mode": "modal",
          "style": "danger",
          "modal": {
            "title": "Manual Block",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "enabled", "label": "Enabled", "style": "short", "required": true, "placeholder": "on / off" }
            ]
          }
        },
        {
          "id": "ip_limit_enable",
          "label": "IP Limit ON/OFF",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "IP Limit Enable/Disable",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "enabled", "label": "Enabled", "style": "short", "required": true, "placeholder": "on / off" }
            ]
          }
        },
        {
          "id": "set_ip_limit",
          "label": "Set IP Limit",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Set IP Limit",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "ip_limit", "label": "IP Limit", "style": "short", "required": true, "placeholder": "2" }
            ]
          }
        },
        {
          "id": "unlock_ip_lock",
          "label": "Unlock IP Lock",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Unlock IP Lock",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" }
            ]
          }
        },
        {
          "id": "set_speed_download",
          "label": "Set Speed Download",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Set Speed Download",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "speed_down_mbit", "label": "Speed Down Mbps", "style": "short", "required": true, "placeholder": "20" }
            ]
          }
        },
        {
          "id": "set_speed_upload",
          "label": "Set Speed Upload",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Set Speed Upload",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "speed_up_mbit", "label": "Speed Up Mbps", "style": "short", "required": true, "placeholder": "10" }
            ]
          }
        },
        {
          "id": "speed_limit",
          "label": "Speed Limit ON/OFF",
          "mode": "modal",
          "style": "secondary",
          "modal": {
            "title": "Speed Limit Enable/Disable",
            "fields": [
              { "id": "proto", "label": "Protocol", "style": "short", "required": true, "placeholder": "vless/vmess/trojan" },
              { "id": "username", "label": "Username", "style": "short", "required": true, "placeholder": "alice" },
              { "id": "enabled", "label": "Enabled", "style": "short", "required": true, "placeholder": "on / off" }
            ]
          }
        }
      ]
    },
    {
      "id": "4",
      "label": "Network Controls",
      "description": "Ringkasan outbounds/routing, DNS, dan state network.",
      "actions": [
        { "id": "egress_summary", "label": "Egress Summary", "mode": "direct", "style": "primary" },
        { "id": "dns_summary", "label": "DNS Summary", "mode": "direct", "style": "secondary" },
        { "id": "state_file", "label": "State File", "mode": "direct", "style": "secondary" }
      ]
    },
    {
      "id": "5",
      "label": "Domain Control",
      "description": "Wizard setup domain custom/Cloudflare + info domain aktif.",
      "actions": [
        { "id": "cloudflare_root_list", "label": "Cloudflare Root List", "mode": "direct", "style": "secondary" },
        {
          "id": "setup_domain_custom",
          "label": "Set Domain Custom (CLI #1)",
          "mode": "modal",
          "style": "danger",
          "confirm": true,
          "modal": {
            "title": "Set Domain Custom",
            "fields": [
              { "id": "domain", "label": "Domain", "style": "short", "required": true, "placeholder": "vpn.example.com" }
            ]
          }
        },
        {
          "id": "setup_domain_cloudflare",
          "label": "Set Domain Cloudflare (CLI #2)",
          "mode": "modal",
          "style": "danger",
          "confirm": true,
          "modal": {
            "title": "Cloudflare Domain Wizard",
            "fields": [
              { "id": "root_domain", "label": "Root Domain", "style": "short", "required": true, "placeholder": "1 atau vyxara1.web.id" },
              { "id": "subdomain_mode", "label": "Subdomain Mode", "style": "short", "required": false, "placeholder": "auto / manual (default auto)" },
              { "id": "subdomain", "label": "Subdomain", "style": "short", "required": false, "placeholder": "manual mode saja, contoh: vpn01" },
              { "id": "proxied", "label": "Cloudflare Proxy", "style": "short", "required": false, "placeholder": "on / off (default off)" },
              { "id": "allow_existing_same_ip", "label": "Lanjut jika A record sama?", "style": "short", "required": false, "placeholder": "on untuk lanjut, off untuk batal" }
            ]
          }
        },
        {
          "id": "set_domain",
          "label": "Set Domain Legacy",
          "mode": "modal",
          "style": "danger",
          "confirm": true,
          "modal": {
            "title": "Set Domain Legacy",
            "fields": [
              { "id": "domain", "label": "Domain", "style": "short", "required": true, "placeholder": "vpn.example.com" },
              { "id": "issue_cert", "label": "Issue Cert", "style": "short", "required": false, "placeholder": "on / off (default off)" }
            ]
          }
        },
        { "id": "domain_info", "label": "Domain Info", "mode": "direct", "style": "primary" },
        { "id": "nginx_server_name", "label": "Nginx Server Name", "mode": "direct", "style": "secondary" },
        { "id": "refresh_account_info", "label": "Refresh Account Info", "mode": "direct", "style": "secondary" }
      ]
    },
    {
      "id": "6",
      "label": "Speedtest",
      "description": "Speedtest Ookla dan versi binary.",
      "actions": [
        { "id": "run", "label": "Run Speedtest", "mode": "direct", "style": "primary" },
        { "id": "version", "label": "Speedtest Version", "mode": "direct", "style": "secondary" }
      ]
    },
    {
      "id": "7",
      "label": "Security",
      "description": "Status fail2ban dan ringkasan hardening kernel.",
      "actions": [
        { "id": "fail2ban_status", "label": "Fail2ban Status", "mode": "direct", "style": "primary" },
        { "id": "sysctl_summary", "label": "Sysctl Summary", "mode": "direct", "style": "secondary" }
      ]
    },
    {
      "id": "8",
      "label": "Maintenance",
      "description": "Status service dan restart service.",
      "actions": [
        { "id": "service_status", "label": "Service Status", "mode": "direct", "style": "primary" },
        { "id": "restart_xray", "label": "Restart Xray", "mode": "direct", "style": "danger", "confirm": true },
        { "id": "restart_nginx", "label": "Restart Nginx", "mode": "direct", "style": "danger", "confirm": true }
      ]
    }
  ]
}
